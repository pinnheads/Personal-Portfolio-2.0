---
import Layout from '../layouts/Layout.astro';
import Socials from '../components/socials/socials.astro';
import profileImg from '../assets/profile-circle.webp';
import { Image } from 'astro:assets';
import json from '../../public/resume.json';
const basics = json.basics;
---

<Layout title='Utsav Deep | About'>
    <div class='flex flex-col h-full lg:flex-row align-middle justify-center'>
        <div class='flex flex-col lg:flex-row align-middle text-center justify-center md:w-full basis-1/2'>
            <div class='m-auto mb-0 lg:mb-auto lg:mr-0 align-middle justify-end'>
                <Image
                    src={profileImg}
                    alt='Profile Photo'
                    quality={'high'}
                    loading='eager'
                    class='w-44 md:w-60 lg:w-72 3xl:w-80 shadow-lg shadow-slate-800 hover:shadow-xl hover:shadow-slate-600 hover:scale-110 transition ease-in-out m-4 rounded-full delay-50 animate-fade-up'
                />
            </div>
            <Socials />
        </div>
        <div class='flex flex-col w-full basis-1/2 p-5'>
            <div class='flex flex-col w-full h-full basis-[70%] md:basis-[60%] items-center justify-start md:justify-end space-y-0 animate-fade-up card'>
                <div class="front absolute space-y-1 md:space-y-2">
                    <h2 class='text-4xl md:text-6xl 3xl:text-7xl'>Hi ðŸ‘‹, I'm</h2>
                    <h1 class='text-6xl md:text-8xl 3xl:text-9xl name '>
                        {basics.name}
                    </h1>
                    <h3 class='text-2xl md:text-5xl 3xl:text-5xl'>a {basics.label}</h3>
                    <h4 class='text-xl md:text-3xl 3xl:text-5xl'>located in {basics.location.city}, {basics.location.region}, {basics.location.countryCode}</h4>
                   
                </div>
                <div class="back hidden absolute text-sm md:text-xl 2xl:text-2xl px-2 md:px-8 lg:w-4/5">
                    {basics.summary}
                </div>
            </div>
            <button onclick="flipCard()" class="underline underline-offset-8 md:my-4 md:text-xl button-front">Read more about me > </button>
            <button onclick="flipCard()" class="underline underline-offset-8 md:my-4 md:text-xl button-back hidden">Back ></button>
            <div class='flex flex-row basis-[25%] md:basis-[40%] justify-center items-center lg:justify-start lg:items-start lg:p-8 w-full h-full'>
                <a
                    rel='prefetch'
                    type='button'
                    target='_blank'
                    href='/resume.pdf'
                    class='text-black text-center m-2 text-lg rounded-xl md:text-2xl p-2 md:p-4 hover:bg-yellow-500 bg-[#f8ca12] font-bold w-2/3 min-h-1/3 lg:min-h-1/6 flex justify-center items-center'
                >
                    Resume
                </a>
                <a
                    type='button'
                    class='text-blue-400 text-center text-lg md:text-2xl rounded-xl hover:bg-[#10acc7] hover:text-white tranisition ease-in-out delay-75 border border-blue-300 p-2 md:p-4 font-bold md:font-medium hover:font-bold pt-2 w-2/3 m-2 min-h-1/3 lg:min-h-1/6 flex justify-center items-center'
                    href='/contact'
                    rel='prefetch'
                >
                    Contact Me
                </a>
            </div>
        </div>
    </div>
</Layout>

<script is:inline>
    function flipCard() {
        // if back side has the hidden class
        if(document.getElementsByClassName('back')[0].classList.contains('hidden')) {
            //animate the back
            document.getElementsByClassName('back')[0].classList.remove('animate-fade')
            document.getElementsByClassName('back')[0].classList.add('animate-fade')
            //remove hidden from the back
            document.getElementsByClassName('back')[0].classList.remove('hidden')
            //add hidden to the front 
            document.getElementsByClassName('front')[0].classList.add('hidden')
            document.getElementsByClassName('button-front')[0].classList.add('hidden')
            document.getElementsByClassName('button-back')[0].classList.remove('hidden')
            document.getElementsByClassName('button-back')[0].classList.remove('animate-fade')
            document.getElementsByClassName('button-back')[0].classList.add('animate-fade')
        } else {
            document.getElementsByClassName('front')[0].classList.remove('animate-fade')
            document.getElementsByClassName('front')[0].classList.add('animate-fade')
            document.getElementsByClassName('back')[0].classList.add('hidden')
            document.getElementsByClassName('front')[0].classList.remove('hidden')
            document.getElementsByClassName('button-back')[0].classList.add('hidden')
            document.getElementsByClassName('button-front')[0].classList.remove('hidden')
            document.getElementsByClassName('button-front')[0].classList.remove('animate-fade')
            document.getElementsByClassName('button-front')[0].classList.add('animate-fade')
        }
    }
</script>

<style is:global>
    * {
        /* background-color: rgba(188, 247, 121, 0.2); */
    }
    .name {
        color: #00e0b0;
    }
</style>
